(window.webpackJsonp__wix_thunderbolt_app=window.webpackJsonp__wix_thunderbolt_app||[]).push([[28],{677:function(e,t,a){"use strict";a.r(t),a.d(t,"site",(function(){return R}));var n,r=a(0),i=a(7),o=a(6),c=a(27),u=a(39),s=a(209),p=a(300),d=a(208),l=a(299),f=a(19),b=a(263),g=a(243),h=a(17);!function(e){e.PAGES="pages",e.SITEMAP="sitemap"}(n||(n={}));var v=function(e){return/(^https?)|(^data)|(^blob)|(^\/\/)/.test(e)},_=function(e){return e.replace("./","").split("/")},j=function(e,t,a,n,r){var i=e.optionsData.bodyData,o=i.routerPrefix,c=i.config,u=i.pageRoles,s=function(e){return"/"+_(e).slice(1).join("/")}(t),p=""+n+o+s+a;return JSON.stringify({routerPrefix:o,routerSuffix:s,fullUrl:p,config:c,pageRoles:u,requestInfo:{formFactor:r}})},O=function(e,t,a,n,i,o,c){var u=e.urlData,s=u.basePath,p=u.queryParams,d=u.appDefinitionId;return{url:function(e,t,a){var n=new URL(e);return n.searchParams.append(t,encodeURIComponent(a)),n.toString()}(s+"/"+c+"?"+p,"instance",a.getAppInstanceByAppDefId(d)),options:Object(r.a)(Object(r.a)({method:"POST",body:j(e,n,i,o,t),headers:e.optionsData.headers},e.optionsData.credentials?{credentials:e.optionsData.credentials}:{}),e.optionsData.mode?{mode:e.optionsData.mode}:{})}},m="__403__dp",D="__404__dp",I="__500__dp",U="__uknown_error__dp",w=function(e,t){return/^\/(.*)/.test(e)?"."+e:"./"+t+"/"+e},P=Object(i.h)([Object(i.f)(c.e,b.a),u.c,f.b,s.a,p.a,d.a,o.f,h.d,l.a,u.g],(function(e,t,a,i,o,c,u,s,p,d){var l=e.prefixToRouterFetchData,f=e.routerPagesSeoToIdMap,h=e.externalBaseUrl,j=e.viewMode,P=function(){d.interactionStarted("initial-dynamic-page-navigation"),d.interactionEnded("initial-dynamic-page-navigation")},R=function(e,t,a){var n=function(e,t,a,n){if(v(e))return e;var r=w(e,a),i=new URL(r,t+"/");return i.search=n,i.toString()}(e,h,t,a.search);i.setHead('<meta http-equiv="refresh" content="0;url='+n+'" />')};return{getSitemapFetchParams:function(e){var t=l[e];return t?O(t,j,a,u.getRelativeUrl(),u.getParsedUrl().search,h,n.SITEMAP):null},handle:function(e){return Object(r.b)(this,void 0,void 0,(function(){var i,u,d,S,y,x,A=this;return Object(r.d)(this,(function(E){switch(E.label){case 0:return!e.pageId&&e.relativeUrl&&e.parsedUrl?(k=e.relativeUrl,i=_(k)[0],(u=l[i])?[4,(T=c.getCurrentRouteInfo(),!p["specs.thunderbolt.dynamicPagesWarmupData"]||T?null:s.getWarmupData(b.a,{timeout:0}))]:f[i]?[2,Object(r.a)(Object(r.a)({},e),{pageId:D})]:[2,e]):[3,2];case 1:return(d=E.sent())?(P(),[2,Object(r.a)(Object(r.a)({},e),d)]):(S=O(u,j,a,e.relativeUrl,e.parsedUrl.search,h,n.PAGES),y=S.url,x=S.options,[2,o.envFetch(y,x).then((function(a){return Object(r.b)(A,void 0,void 0,(function(){var n,o,u,s,p,d,l,f,b,h;return Object(r.d)(this,(function(_){switch(_.label){case 0:if(!a.ok)throw a;return[4,a.json()];case 1:return n=_.sent(),o=n.result,u=n.exception,s=o.page,p=o.data,d=o.head,l=o.tpaInnerRoute,f=o.publicData,(b=o.redirectUrl)?Object(g.e)(t)?(R(b,i,e.parsedUrl),[2,null]):(v(b)&&t.location.assign(b),[2,{redirectUrl:w(b,i)}]):(!c.getCurrentRouteInfo()&&t&&P(),[2,(h=function(e,t){var a=e.status,n=e.page,r=e.redirectUrl;return t?I:403===a?m:404===a?D:n||r?null:U}(o,u))?Object(r.a)(Object(r.a)({},e),{pageId:h}):Object(r.a)(Object(r.a)({},e),{pageId:s,dynamicRouteData:{pageData:p,pageHeadData:d,publicData:f,tpaInnerRoute:l}})])}}))}))})).catch((function(){return Object(g.e)(t)?null:Object(r.a)(Object(r.a)({},e),{pageId:I})}))]);case 2:return[2,e]}var T,k}))}))}}})),R=function(e,t){t([o.d.Dynamic,c.a],P)}}}]);
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/dynamicPages.4c12f6ec.chunk.min.js.map